# Depends on: glib json-glib libinput xorg-libsm gnome-desktop libwacom libxkbcommon upower zenity gobject-introspection libcanberra startup-notification pipewire xorg-libxcursor xorg-libxcomposite wayland-protocols

description="Window manager for gnome."
url="http://www.gnome.org/"
packager="tnut <tnut@nutyx.org>"
contributors="Jayce, Fanch, Remy"
name=mutter
version=3.30.1

source=(http://ftp.gnome.org/pub/gnome/sources/$name/${version%.*}/$name-$version.tar.xz)

build() {
cd $name-$version
./configure --prefix=/usr \
 --localstatedir=/var \
 --libexecdir=/usr/lib \
 --disable-static \
 --disable-schemas-compile \
 --enable-compile-warnings=minimum \
 --enable-egl-device \
 --enable-remote-desktop \
 --disable-gtk-doc
sed -e 's/ -shared / -Wl,-O1,--as-needed\0/g' \
 -i {.,cogl,clutter}/libtool
make
make DESTDIR=$PKG install
}
